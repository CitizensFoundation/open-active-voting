System.register(["./nomodule-fc37705a.js","./nomodule-7f51a800.js"],(function(e,t){var o,n,r,i,a,s,c,l,u,h,v,d,f,g,p,Z,_,m,y,T,k,L,S,b,C,x,A,H,E,M,I,F,$,w,U,D;return{setters:[function(e){o=e.createSuper,n=e.inherits,r=e.getPrototypeOf,i=e.get,a=e.createClass,s=e.classCallCheck,c=e.taggedTemplateLiteral},function(e){l=e.P,u=e.O,h=e.a,v=e.h,d=e.u,f=e._,g=e.p,p=e.c}],execute:function(){(function(e){return e}),e("OavSelectVotingArea",D=function(e){n(l,e);var t=o(l);function l(){var e;return s(this,l),(e=t.apply(this,arguments)).hasLoadedCss=!1,e}return a(l,[{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},{key:"render",value:function(){return this.hasLoadedCss?v(x||(x=Z||(Z=c(["",""]))),this.wide?v(A||(A=_||(_=c(["",""]))),d(this.setupHTMLText(this.configFromServer.client_config.selectVotingAreaDesktopHTML))):v(H||(H=m||(m=c(["",""]))),d(this.setupHTMLText(this.configFromServer.client_config.selectVotingAreaMobileHTML)))):v(E||(E=y||(y=c([""]))))}},{key:"renderTEST",value:function(){return this.hasLoadedCss?v(M||(M=T||(T=c(["",""]))),this.wide?v(I||(I=k||(k=c(["",""]))),d(this.replaceInHTMLText(this.testHtmlDesktop()))):v(F||(F=L||(L=c(["",""]))),d(this.replaceInHTMLText(this.testHtmlMobile())))):v($||($=S||(S=c([""]))))}},{key:"testHtmlMobile",value:function(){return""}},{key:"testHtmlDesktop",value:function(){return""}},{key:"renderText",value:function(){return this.hasLoadedCss?v(w||(w=b||(b=c(["",""]))),d(this.setupHTMLText(this.getText()))):v(U||(U=C||(C=c([""]))))}},{key:"getText",value:function(){return"\n    "}},{key:"refreshAreaCounters",value:function(){this.requestUpdate()}},{key:"setupHTMLText",value:function(e){return e=this.b64DecodeUnicode(e),this.replaceInHTMLText(e)}},{key:"replaceInHTMLText",value:function(e){var t=this;this.configFromServer.areas.forEach((function(o){var n=0;t.configFromServer.area_voter_count&&t.configFromServer.area_voter_count[o.id]&&(n=t.configFromServer.area_voter_count[o.id]),e=e.replace("ZZZareaCount"+o.id+"ZZZ",t.formatNumber(n,void 0,"."))}));var o=this.configFromServer.total_voter_count;return e=(e=(e=(e=(e=e.replace(/ZZZtotalVoterCountZZZ/g,this.formatNumber(o,void 0,"."))).replace("ZZZmainInfoTextZZZ",this.localize("mainInfo"))).replace("ZZZchoose_a_neighbourhood_2ZZZ",this.localize("choose_a_neighbourhood_2"))).replace("ZZZselectAreaTextZZZ",this.localize("selectAreaInfo"))).replace(/ZZZnumber_of_votersZZZ/g,this.localize("number_of_voters"))}},{key:"setupEvents",value:function(){var e=this;this.$$("#languageSelection").addEventListener("click",this._languageSelection.bind(this)),this.shadowRoot.querySelectorAll("a,area").forEach((function(t){var o=t.href.split("/"),n=o[o.length-1];t.addEventListener("click",(function(){e._goToAreaId(parseInt(n))})),t.removeAttribute("href"),t.style.cursor="pointer"}))}},{key:"_goToAreaId",value:function(e){var t="/area-ballot/"+e;window.history.pushState({},"",t),this.fire("location-changed",t)}},{key:"removeEvents",value:function(){var e=this;this.$$("#languageSelection").removeEventListener("click",this._languageSelection.bind(this)),this.shadowRoot.querySelectorAll("a,area").forEach((function(t){t.removeEventListener("click",(function(){e._goToAreaId(-1)}))}))}},{key:"firstUpdated",value:function(e){i(r(l.prototype),"firstUpdated",this).call(this,e)}},{key:"updated",value:function(e){var t=this;i(r(l.prototype),"updated",this).call(this,e),e.has("configFromServer")&&this.configFromServer&&(this.hasLoadedCss=!0,setTimeout((function(){t.setupEvents();var e=t.$$("#"+t.language+"Language");e&&e.classList.add("selectedLanguage")})))}},{key:"_languageSelection",value:function(e){var t=this;this.language=e.target.id.split("Language")[0],this.fire("oav-set-locale",this.language),setTimeout((function(){t.$$("#languageSelection").addEventListener("click",t._languageSelection.bind(t))}),100)}},{key:"disconnectedCallback",value:function(){this.removeEvents(),i(r(l.prototype),"disconnectedCallback",this).call(this)}}],[{key:"styles",get:function(){return[u,h]}}]),l}(l)),f([g({type:Boolean})],D.prototype,"hasLoadedCss",void 0),f([g({type:Object})],D.prototype,"configFromServer",void 0),e("OavSelectVotingArea",D=f([p("oav-select-voting-area")],D))}}}));
