<html><head><meta charset="UTF-8"><link rel="import" href="../oav-app.html"></head><body><dom-module id="oav-select-voting-area">
  <style include="iron-flex iron-flex-alignment">

    :host {
      width: 100%;
      height: 100%;
      background-color: var(--app-kopavogur-green-grass);
    }

    #area_options {
      background-color: var(--app-kopavogur-green-grass);
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
    }

    h3 {
      font-size: 18px;
      padding: 16px;
    }

    paper-fab {
      padding: 32px;
      color: #FFF;
    }

    paper-fab.label {
      font-size: 30px;
      color: #FFF;
    }

    .infoImage {
      width: 400px;
      height: 225px;
    }

    .topMaterial {
      width: 400px;
      height: 225px;
      background-color: #FFF;
      margin: 32px;
    }

    .mainContainer {
      background-color: var(--app-kopavogur-green-grass);
    }

    .imageContainer {
      height: 280px;
      width: 100%;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
      background-image: url("https://s3-eu-west-1.amazonaws.com/oav-direct-assets/CF-large.png");
    }

    @media (max-width: 600px) {
      .imageContainer {
        background-image: url("https://s3-eu-west-1.amazonaws.com/oav-direct-assets/CF-small.png");
      }
    }

    .selectInfoText {
      font-size: 21px;
      padding: 8px;
      background-color: var(--app-primary-color);
      color: #FFF;
      margin: 0;
    }

    .selectInfoTextSmaller {
      font-size: 16px;
      padding: 8px;
    }

    .areaOptions {
      margin-top: 32px;
    }

    .voteNumberForKarsnes {
      position: absolute;
      top: 120px;
      left: 30px;
      color: #ce8716;
    }

    .voteNumberForDigranes {
      position: absolute;
      top: 45px;
      right: 140px;
      color: #69b559;
    }

    .voteNumberForSmarinn {
      position: absolute;
      top: 205px;
      left: 100px;
      color: #44a3bc;
    }

    .voteNumberForLindir {
      position: absolute;
      top: 275px;
      left: 210px;
      color: #ecd344;
    }

    .voteNumberForVatnsendi {
      position: absolute;
      bottom: 60px;
      left: 340px;
      color: #cc511f;
    }

    .voteNumberGeneral {
      padding-left: 4px;
      font-size: 28px;
    }

    .checkIcon {
      width: 40px;
      height: 40px;
    }

    .voteNumberForKarsnesMobile {
      color: #ce8716;
      padding-top: 16px;
      padding-left: 8px;
    }

    .voteNumberForDigranesMobile {
      color: #69b559;
      padding-top: 16px;
      padding-left: 8px;
    }

    .voteNumberForSmarinnMobile {
      color: #44a3bc;
      padding-top: 8px;
      padding-right: 8px;
    }

    .voteNumberForLindirMobile {
      color: #ecd344;
      padding-top: 32px;
    }

    .voteNumberForVatnsendiMobile {
      color: #cc511f;
    }

    .voteNumberGeneralMobile {
      padding-left: 3px;
      font-size: 22px;
    }

    .checkIconMobile {
      width: 35px;
      height: 35px;
    }

    @media (max-width: 600px) {
      .selectInfoText {
        font-size: 18px;
      }
      .selectInfoTextSmaller {
        font-size: 16px;
      }
    }

    .totalVoters {
      position: absolute;
      bottom: 4px;
      right: 8px;
      color: #888;
    }

    .totalVoterIcon {
      width: 32px;
      height: 32px;
    }

    .totalVoterCount {
      font-size: 19px;
      padding-top: 2px;
      padding-left: 2px;
    }

    .langSelection {
      position: absolute;
      bottom: 8px;
      left: 8px;
      cursor: pointer;
      font-style: italic;
      font-size: 14px;
    }

    .langImage {
      cursor: pointer;
      margin-right: 8px;
      margin-left: 8px;
    }

    @media (max-width: 600px) {
      .totalVoterCount {
        font-size: 17px;
        padding-left: 0px;
      }

      .totalVoterIcon {
        width: 30px;
        height: 30px;
      }

      .mobileLogo {
        width: 240px;
        height: 100px;
        margin-top: 32px;
      }

      .topMaterial {
        max-width: 320px;
        max-height: 120px;
        margin-bottom: 16px;
        background-color: #f5f5f5;
      }

      .mobileMaterial {
        width: 320px;
        padding: 0;
        margin: 0;
        margin-top: 24px;
        background-color: #fff;
        padding-top: 16px;
        padding-bottom: 16px;
      }
    }

    .desktopLogo {
      width: 260px;
      height: 120px;
    }

    .logoHolder {
      background-color: #66c7db;
      padding-bottom: 8px;
      padding-top: 8px;
    }

    @media (max-width: 320px) {
      .topMaterial {
        max-width: 300px;
        max-height: 130px;
        margin: 0;
        margin-top: 16px;
      }

      .mobileMaterial {
        width: 320px;
        padding: 0;
        margin: 0;
        margin-top: 24px;
        padding-top: 8px;
        background-color: #fff;
      }
    }

    .mobileIronImage {
      padding-bottom: 12px;
    }

  </style>

  <template>
    <iron-signals on-iron-signal-set-language="setLanguage"></iron-signals>
    <iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query>

    <template is="dom-if" if="[[areas]]">

      <div class="layout vertical center-center mainContainer">

        <div class="layout horizontal imageContainer wrap">
          <div class="layout vertical">
            <div class="layout horizontal center-center">
              <iron-image hidden$="[[wide]]" sizing="contain" class="mobileLogo" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/okkarKopaVogurTransparent.png"></iron-image>
            </div>
            <paper-material elevation="3" class="topMaterial">
              <div hidden$="[[!wide]]" class="logoHolder layout horizontal center-center">
                <iron-image sizing="contain" class="desktopLogo" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/okkarKopaVogurTransparent.png"></iron-image>
              </div>
              <div class="selectInfoTextSmaller">{{localize('choose_a_neighbourhood_2')}}</div>
              <div class="langSelection layout horizontal">
                <div hidden$="[[isLanguage]]" on-tap="_selectIcelandic">Íslenska</div>
                <div hidden$="[[enLanguage]]" on-tap="_selectEnglish">English</div>
              </div>
              <template is="dom-if" if="[[totalVoterCount]]">
                <div title$="[[localize('number_of_voters')]]" class="totalVoters layout horizontal"><iron-icon class="totalVoterIcon" icon="verified-user"></iron-icon><div class="totalVoterCount">[[totalVoterCount]]</div></div>
              </template>
            </paper-material>
          </div>

          <paper-material elevation="3" class="topMaterial" hidden$="[[!wide]]">
            <iron-image sizing="contain" class="infoImage" src="https://yrpri6-production.s3.amazonaws.com/IC/00/wo-retina.png"></iron-image>
          </paper-material>
        </div>

        <template is="dom-if" if="[[wide]]" restamp="">
          <paper-material elevation="5" class="areaOptions">
            <div class="layout vertical center-center">
              <img id="imageMapKopavogur" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogurMap.png" border="0" width="686" height="550" orgwidth="686" orgheight="550" usemap="#image-maps-2016-08-04-135857" alt="">
              <map name="image-maps-2016-08-04-135857" id="ImageMapsCom-image-maps-2016-08-04-135857">
                <area alt="Vatnsendi" title="Vatnsendi" href="/#/area-ballot/5" shape="poly" coords="362,296,371,307,468,323,475,497,494,537,610,444,610,428,648,382,578,325,588,300,621,287,625,271,618,251,627,235,655,229,672,208,660,190,607,199,552,193,464,270" style="outline:none" target="_self">
                <area alt="Lindir og Salir" title="Lindir og Salir" href="/#/area-ballot/4" shape="poly" coords="356,290,452,266,367,192,355,135,321,141,296,158,277,180,262,206,259,221,295,220,310,235,308,253,333,265" style="outline:none" target="_self">
                <area alt="Smárinn" title="Smárinn" href="/#/area-ballot/3" shape="poly" coords="196,130,215,128,248,117,271,118,290,123,334,115,359,125,330,133,313,142,298,154,278,171,269,183,251,215,244,216,204,191,180,186,179,162,190,151" style="outline:none" target="_self">
                <area alt="Digranes" title="Digranes" href="/#/area-ballot/2" shape="poly" coords="196,123,212,123,242,112,256,112,272,114,293,117,306,116,337,113,359,120,395,114,414,99,421,83,425,61,414,52,415,37,403,30,333,23,233,14,216,23,210,35,196,52,186,61,182,66,176,82,185,102" style="outline:none" target="_self">
                <area alt="Kársnes" title="Kársnes" href="/#/area-ballot/1" shape="poly" coords="23,21,53,20,55,37,69,36,89,30,102,29,104,39,119,40,129,36,140,38,157,33,166,36,188,22,207,27,202,44,187,53,178,62,173,84,179,103,187,126,188,139,176,126,167,123,141,116,94,106,71,103,50,81,47,70,41,53,32,55,20,34" style="outline:none" target="_self">
              </map>
            </div>
            <template is="dom-if" if="[[areaVoterCount]]" restamp="">
              <div title$="[[localize('number_of_votes')]]" class="voteNumberForKarsnes layout horizontal"><iron-icon class="checkIcon" icon="verified-user"></iron-icon><div class="voteNumberGeneral">[[_getAreaCount(1)]]</div></div>
              <div title$="[[localize('number_of_votes')]]" class="voteNumberForDigranes layout horizontal"><iron-icon class="checkIcon" icon="verified-user"></iron-icon><div class="voteNumberGeneral">[[_getAreaCount(2)]]</div></div>
              <div title$="[[localize('number_of_votes')]]" class="voteNumberForSmarinn layout horizontal"><iron-icon class="checkIcon" icon="verified-user"></iron-icon><div class="voteNumberGeneral">[[_getAreaCount(3)]]</div></div>
              <div title$="[[localize('number_of_votes')]]" class="voteNumberForLindir layout horizontal"><iron-icon class="checkIcon" icon="verified-user"></iron-icon><div class="voteNumberGeneral">[[_getAreaCount(4)]]</div></div>
              <div title$="[[localize('number_of_votes')]]" class="voteNumberForVatnsendi layout horizontal"><iron-icon class="checkIcon" icon="verified-user"></iron-icon><div class="voteNumberGeneral">[[_getAreaCount(5)]]</div></div>
            </template>
          </paper-material>
        </template>
      </div>

      <template is="dom-if" if="[[!wide]]">
        <div class="layout vertical center-center">
          <paper-material elevation="5" class="mobileMaterial layout vertical center-center">
            <template is="dom-if" if="[[areaVoterCount]]" restamp="">
              <div class="layout horizontal">
                <div title$="[[localize('number_of_votes')]]" class="voteNumberForKarsnesMobile layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(1)]]</div></div>
                <a href="/#/area-ballot/1">
                  <iron-image class="mobileIronImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogur_kort_mobile_karsnes.png"></iron-image>
                </a>
              </div>

              <div class="layout horizontal">
                <a href="/#/area-ballot/2">
                  <iron-image class="mobileIronImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogur_kort_mobile_digranes.png"></iron-image>
                </a>
                <div title$="[[localize('number_of_votes')]]" class="voteNumberForDigranesMobile layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(2)]]</div></div>
              </div>

              <div class="layout horizontal">
                <div title$="[[localize('number_of_votes')]]" class="voteNumberForSmarinnMobile layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(3)]]</div></div>
                <a href="/#/area-ballot/3">
                  <iron-image class="mobileIronImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogur_kort_mobile_smarinn.png"></iron-image>
                </a>
              </div>

              <div class="layout horizontal">
                <a href="/#/area-ballot/4">
                  <iron-image class="mobileIronImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogur_kort_mobile_lindir.png"></iron-image>
                </a>
                <div title$="[[localize('number_of_votes')]]" class="voteNumberForLindirMobile layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(4)]]</div></div>
              </div>

              <div title$="[[localize('number_of_votes')]]" class="voteNumberForVatnsendiMobile layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(5)]]</div></div>
              <a href="/#/area-ballot/5">
                <iron-image class="mobileIronImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/kopavogur_kort_mobile_vatnsendi.png"></iron-image>
              </a>
            </template>
          </paper-material>
        </div>
      </template>
    </template>

    <oav-ajax id="getAreasAjax" auto="" url="/votes/get_areas" on-response="_areasResponse"></oav-ajax>
  </template>

</dom-module>

<script>!function(){Polymer({is:"oav-select-voting-area",behaviors:[Polymer.appHelpers,Polymer.AppLocalizeBehavior],properties:{areas:{type:Array,value:[]},imageMapImageUrl:{type:String},imageMapData:{type:String},language:{value:"is"},wide:Boolean,areaVoterCount:Object,totalVoterCount:Number},refreshAreaCounters:function(){this.$.getAreasAjax.generateRequest()},_selectIcelandic:function(){this.fire("iron-signal",{name:"set-language",data:"is"}),localStorage.setItem("selectedLanguage","is")},_selectEnglish:function(){this.fire("iron-signal",{name:"set-language",data:"en"}),localStorage.setItem("selectedLanguage","en")},_getAreaCount:function(e){return this.formatNumber(this.areaVoterCount[e])},attached:function(){this.loadLanguage(this.resolveUrl("/src/locales.json"))},_areasResponse:function(e,t){this.set("areas",t.response.areas),this.set("areaVoterCount",null),this.async(function(){this.set("areaVoterCount",t.response.area_voter_count),this.set("totalVoterCount",this.formatNumber(t.response.total_voter_count))}.bind(this))}})}();</script>

</body></html>