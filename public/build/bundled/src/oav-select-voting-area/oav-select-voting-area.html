<html><head><meta charset="UTF-8"><link rel="import" href="../oav-app.html?v=5.9.15"></head><body><dom-module id="oav-select-voting-area">
  <style include="iron-flex iron-flex-alignment">

    :host {
      width: 100%;
      height: 100%;
      background-color: var(--app-main-backround-color);

    }

    #area_options {
      background-color: var(--app-main-backround-color);
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
    }

    h3 {
      font-size: 18px;
      padding: 16px;
    }

    paper-fab {
      padding: 32px;
      color: #FFF;
    }

    paper-fab.label {
      font-size: 30px;
      color: #FFF;
    }

    .infoImage {
      width: 400px;
      height: 225px;
    }

    @media (max-width: 940px) {
      .infoImageContainer {
        display: none;
      }
    }

    .topMaterial {
      width: 400px;
      height: 225px;
      background-color: #FFF;
      margin: 32px;
    }

    .mainContainer {
      background-color: var(--app-main-backround-color);
    }

    .imageContainer {
      height: 280px;
      width: 100%;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
      background-image: url("https://s3-eu-west-1.amazonaws.com/oav-direct-assets/hverfid_mitt_2016/CF-medium-minimal1920x300.png");
    }

    @media (max-width: 800px) {
      .imageContainer {
        background-image: none;
        background-color: #f0f0f0;
      }
    }

    .selectInfoText {
      font-size: 21px;
      padding: 8px;
      background-color: var(--app-primary-color);
      color: #FFF;
      margin: 0;
    }

    .selectInfoTextSmaller {
      font-size: 17px;
      padding: 8px;
    }

    .areaOptions {
      margin-top: 48px;
    }

    .voteNumberForVesturbaer {
      position: absolute;
      top: 244px;
      right: 746px;
      color: #95c11a;
    }

    .voteNumberForMidborg {
      position: absolute;
      top: 356px;
      right: 662px;
      color: #2ba9e0;
    }

    .voteNumberForHlidar {
      position: absolute;
      top: 196px;
      right: 516px;
      color: #f39100;
    }

    .voteNumberForHaaleiti {
      position: absolute;
      top: 332px;
      left: 546px;
      color: #10a19a;
    }

    .voteNumberForLaugardalur {
      position: absolute;
      top: 160px;
      right: 444px;
      color: #be6a95;
    }

    .voteNumberForBreidholt {
      position: absolute;
      bottom: 22px;
      left: 648px;
      color: #0e70b8;
    }

    .voteNumberForArbaer {
      position: absolute;
      bottom: 110px;
      left: 728px;
      color: #bfc005;
    }

    .voteNumberForGrafarvogur {
      position: absolute;
      top: 175px;
      left: 620px;
      color: #da616b;
      direction: ltr;
    }

    .voteNumberForGrafarholt {
      position: absolute;
      bottom: 138px;
      left: 765px;
      color: #cc902f;
    }

    .voteNumberForKjalarnes {
      position: absolute;
      top: 32px;
      right: 358px;
      color: #2aac65;
    }

    .voteNumberGeneral {
      padding-left: 4px;
      font-size: 15px;
    }

    .checkIcon {
      width: 40px;
      height: 40px;
    }

    .voteNumberForVesturbaerMobile {
      background-color: #95c11a;
    }

    .voteNumberForMidborgMobile {
      background-color: #2ba9e0;
    }

    .voteNumberForHlidarMobile {
      background-color: #f39100;
    }

    .voteNumberForHaaleitiMobile {
      background-color: #10a19a;
    }

    .voteNumberForLaugardalurMobile {
      background-color: #be6a95;
    }

    .voteNumberForBreidholtMobile {
      background-color: #0e70b8;
    }

    .voteNumberForArbaerMobile {
      background-color: #bfc005;
    }

    .voteNumberForGrafarvogurMobile {
      background-color: #da616b;
    }

    .voteNumberForGrafarholtMobile {
      background-color: #cc902f;
    }

    .voteNumberForKjalarnesMobile {
      background-color: #2aac65;
    }

    .voteNumberGeneralMobile {
      font-size: 24px;
      margin-left: 4px;
    }

    .checkIconMobile {
      width: 35px;
      height: 35px;
    }

    @media (max-width: 800px) {
      .selectInfoText {
        font-size: 18px;
      }
      .selectInfoTextSmaller {
        font-size: 18px;
      }
    }

    .totalVoters {
      position: absolute;
      bottom: 4px;
      right: 8px;
      color: #888;
    }

    .totalVoterIcon {
      width: 32px;
      height: 32px;
    }

    .totalVoterCount {
      font-size: 19px;
      padding-top: 2px;
      padding-left: 2px;
    }

    .langSelection {
      position: absolute;
      bottom: 8px;
      left: 8px;
      cursor: pointer;
      font-style: italic;
      font-size: 15px;
    }

    .langImage {
      cursor: pointer;
      margin-right: 8px;
      margin-left: 8px;
    }

    @media (max-width: 800px) {
      .totalVoterCount {
        font-size: 17px;
        padding-left: 0px;
      }

      .totalVoterIcon {
        width: 30px;
        height: 30px;
      }

      .mobileLogo {
        width: 240px;
        height: 100px;
        margin-top: 32px;
      }

      .topMaterial {
        max-width: 320px;
        max-height: 120px;
        margin-bottom: 16px;
        background-color: #f5f5f5;
      }

      .mobileMaterial {
        width: 290px;
        padding: 16px;
        margin: 0;
        margin-top: 16px;
        color: #FFF;
        font-size: 28px;
        cursor: pointer;
      }

      .mobileBackground {
        background-color: #f0f0f0;
        padding-bottom: 64px;
      }
    }

    .desktopLogo {
      width: 260px;
      height: 120px;
    }

    .logoHolder {
      padding-bottom: 8px;
      padding-top: 8px;
      background-color: #f0f0f0;
    }

    @media (max-width: 320px) {
      .topMaterial {
        max-width: 300px;
        max-height: 130px;
        margin: 0;
        margin-top: 16px;
      }

      .mobileMaterial {
        width: 270px;
        font-size: 26px;
      }
    }

    .mobileIronImage {
      padding-bottom: 12px;
    }

    .areaOptions a {
      text-decoration: none;
    }

    .mobileBackground a {
      text-decoration: none;
    }
  </style>

  <template>
    <iron-signals on-iron-signal-set-language="setLanguage"></iron-signals>
    <iron-media-query query="(min-width: 800px)" query-matches="{{wide}}"></iron-media-query>

    <template is="dom-if" if="[[areas]]">

      <div class="layout vertical center-center mainContainer">

        <div class="layout horizontal imageContainer wrap">
          <div class="layout vertical">
            <div class="layout horizontal center-center">
              <iron-image hidden$="[[wide]]" sizing="contain" class="mobileLogo" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/hverfid_mitt_2016/HverfidMittLogoPos.png"></iron-image>
            </div>
            <paper-material elevation="3" class="topMaterial">
              <div hidden$="[[!wide]]" class="logoHolder layout horizontal center-center">
                <iron-image sizing="contain" class="desktopLogo" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/hverfid_mitt_2016/HverfidMittLogoPos.png"></iron-image>
              </div>
              <div class="selectInfoTextSmaller">{{localize('choose_a_neighbourhood_2')}}</div>
              <div class="langSelection layout horizontal">
                <div hidden$="[[isLanguage]]" on-tap="_selectIcelandic">Íslenska</div>
                <div hidden$="[[enLanguage]]" on-tap="_selectEnglish">English</div>
              </div>
              <template is="dom-if" if="[[totalVoterCount]]">
                <div title$="[[localize('number_of_voters')]]" class="totalVoters layout horizontal"><iron-icon class="totalVoterIcon" icon="verified-user"></iron-icon><div class="totalVoterCount">[[totalVoterCount]]</div></div>
              </template>
            </paper-material>
          </div>

          <paper-material elevation="3" class="topMaterial infoImageContainer" hidden$="[[!wide]]">
            <iron-image sizing="contain" class="infoImage" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/hverfid_mitt_2016/hausMynd.png"></iron-image>
          </paper-material>
        </div>

        <template is="dom-if" if="[[wide]]" restamp="">
          <paper-material elevation="5" class="areaOptions">
            <div class="layout vertical center-center">
              <img id="imageMapKopavogur" src="https://s3-eu-west-1.amazonaws.com/oav-direct-assets/hverfid_mitt_2016/Rvik_kort_4.png" border="0" width="882" height="597" orgwidth="686" orgheight="550" usemap="#image-maps-2016-08-04-135857" alt="">
              <map name="image-maps-2016-08-04-135857" id="ImageMapsCom-image-maps-2016-08-04-135857">
                <area alt="Vesturbær" title="Vesturbær" href="/#/area-ballot/1" shape="poly" coords="153,227,177,205,213,213,238,209,249,199,244,189,246,181,254,174,261,171,267,166,275,159,279,153,290,152,301,158,298,184,271,204,281,213,276,222,270,238,269,261,273,286,273,305,268,315,259,328,249,339,241,350,235,352,231,349,229,334,222,318,217,303,212,284,188,260" style="outline:none;" target="_self">
                <area alt="Miðborg" title="Miðborg" href="/#/area-ballot/2" shape="poly" coords="281,215,270,249,272,278,276,293,276,305,271,318,262,330,255,342,245,349,240,357,245,366,258,376,269,380,283,397,298,402,313,397,319,392,320,380,317,354,315,334,317,316,321,309,332,298,342,283,347,263,347,254,346,250,311,218,295,220" style="outline:none;" target="_self">
                <area alt="Hlíðar" title="Hlíðar" href="/#/area-ballot/3" shape="poly" coords="353,247,364,243,375,241,388,240,402,240,411,246,412,257,413,270,412,285,410,290,408,299,404,303,399,311,395,318,391,327,389,336,389,347,387,355,388,366,386,377,386,391,386,411,383,415,315,403,318,395,324,384,325,372,324,359,321,348,320,328,321,318,328,307,335,298,342,291,340,279" style="outline:none;" target="_self">
                <area alt="Háaleiti og Bústaðir" title="Háaleiti og Bústaðir" href="/#/area-ballot/4" shape="poly" coords="411,299,405,306,402,315,397,327,394,337,391,349,390,359,389,371,390,384,390,398,388,411,391,420,400,422,486,445,511,444,524,435,530,420,534,396,533,384,529,377,485,356,468,339,446,307,440,298,426,296" style="outline:none;" target="_self">
                <area alt="Laugardalur" title="Laugardalur" href="/#/area-ballot/5" shape="poly" coords="414,290,415,283,416,276,416,263,414,251,411,238,421,212,430,206,443,202,483,196,494,200,509,222,503,233,512,239,521,234,533,234,553,254,556,272,557,291,553,309,548,328,540,341,531,349,520,357,504,358,489,354,476,343,463,326,455,313,448,303,433,294" style="outline:none;" target="_self">
                <area alt="Breiðholt" title="Breiðholt" href="/#/area-ballot/6" shape="poly" coords="530,429,516,482,506,493,495,500,485,505,479,509,477,518,481,529,487,543,496,554,509,567,523,577,535,582,549,582,558,579,566,575,573,571,581,567,586,564,597,559,608,557,615,553,617,548,621,537,625,527,629,520,632,513,640,506,645,498,650,488,650,477,647,467,634,461,613,448,585,438,560,431,545,425" style="outline:none;" target="_self">
                <area alt="Árbær" title="Árbær" href="/#/area-ballot/7" shape="poly" coords="555,376,580,368,607,363,623,364,634,364,644,370,694,404,697,427,698,442,700,463,703,473,712,484,729,502,733,515,735,527,701,543,686,543,670,533,668,522,667,512,666,493,661,479,643,460,629,454,621,449,598,437,584,434,569,430,557,425,549,421,541,416,541,404,541,389" style="outline:none;" target="_self">
                <area alt="Grafarvogur" title="Grafarvogur" href="/#/area-ballot/8" shape="poly" coords="596,259,590,239,594,226,604,217,614,213,625,211,642,209,656,205,675,199,688,199,700,202,712,207,731,213,772,188,787,189,786,209,766,257,763,278,761,289,744,332,727,355,707,368,697,371,679,369,648,358,595,325,589,316,584,306,581,291" style="outline:none;" target="_self">
                <area alt="Grafarholt og Úlfarsdalur" title="Grafarholt og Úlfarsdalur" href="/#/area-ballot/9" shape="poly" coords="773,268,766,285,762,299,758,309,754,320,748,334,744,345,736,355,727,363,719,367,716,372,715,382,722,391,730,401,741,403,750,406,760,407,781,408,788,409,817,423,831,424,845,423,851,415,857,407,863,396,866,386,865,371,863,358,856,346,844,333,838,322,827,310,821,295,812,282,802,271,794,267,784,265" style="outline:none;" target="_self">
                <area alt="Kjalarnes" title="Kjalarnes" href="/#/area-ballot/10" shape="poly" coords="526,1,525,12,533,20,543,20,556,23,564,28,571,39,567,53,570,70,583,76,596,68,630,38,661,39,676,24,684,0" style="outline:none;" target="_self">
              </map>
            </div>
            <template is="dom-if" if="[[areaVoterCount]]" restamp="">
              <a href="/#/area-ballot/1" class="voteNumberForVesturbaer"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral" style="direction: rtl">[[_getAreaCount(1)]]</div></div></a>
              <a href="/#/area-ballot/2" class="voteNumberForMidborg"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(2)]]</div></div></a>
              <a href="/#/area-ballot/3" class="voteNumberForHlidar"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(3)]]</div></div></a>
              <a href="/#/area-ballot/4" class="voteNumberForHaaleiti"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(4)]]</div></div></a>
              <a href="/#/area-ballot/5" class="voteNumberForLaugardalur"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(5)]]</div></div></a>
              <a href="/#/area-ballot/6" class="voteNumberForBreidholt"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(6)]]</div></div></a>
              <a href="/#/area-ballot/7" class="voteNumberForArbaer"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(7)]]</div></div></a>
              <a href="/#/area-ballot/8" class="voteNumberForGrafarvogur"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(8)]]</div></div></a>
              <a href="/#/area-ballot/9" class="voteNumberForGrafarholt"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(9)]]</div></div></a>
              <a href="/#/area-ballot/10" class="voteNumberForKjalarnes"><div title$="[[localize('number_of_votes')]]" class="layout horizontal"><div class="voteNumberGeneral">[[_getAreaCount(10)]]</div></div></a>
            </template>
          </paper-material>
        </template>
      </div>

      <template is="dom-if" if="[[!wide]]">
        <div class="layout vertical center-center mobileBackground">
          <template is="dom-if" if="[[areaVoterCount]]" restamp="">
            <a href="/#/area-ballot/1">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForVesturbaerMobile">
                <div>
                  Vesturbær
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(1)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/2">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForMidborgMobile">
                <div>
                  Miðborg
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(2)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/3">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForHlidarMobile">
                <div>
                  Hlíðar
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(3)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/4">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForHaaleitiMobile">
                <div>
                  Háaleiti og Bústaðir
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(4)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/5">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForLaugardalurMobile">
                <div>
                  Laugardalur
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(5)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/6">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForBreidholtMobile">
                <div>
                  Breiðholt
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(6)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/7">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForArbaerMobile">
                <div>
                  Árbær
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(7)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/8">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForGrafarvogurMobile">
                <div>
                  Grafarvogur
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(8)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/9">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForGrafarholtMobile">
                <div>
                  Grafarholt og Úlfarsdalur
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(9)]]</div></div>
              </paper-material>
            </a>

            <a href="/#/area-ballot/10">
              <paper-material elevation="3" class="mobileMaterial layout horizontal center-center voteNumberForKjalarnesMobile">
                <div>
                  Kjalarnes
                </div>
                <div class="flex"></div>
                <div title$="[[localize('number_of_votes')]]" class="layout horizontal"><iron-icon class="checkIconMobile" icon="verified-user"></iron-icon><div class="voteNumberGeneralMobile">[[_getAreaCount(10)]]</div></div>
              </paper-material>
            </a>
          </template>
        </div>
      </template>
    </template>

    <oav-ajax id="getAreasAjax" auto="" url="/votes/get_areas" on-response="_areasResponse"></oav-ajax>
  </template>

</dom-module>

<script>
  (function() {
    Polymer({

      is: 'oav-select-voting-area',

      behaviors: [
        Polymer.appHelpers,
        Polymer.AppLocalizeBehavior
      ],

      properties: {

        areas: {
          type: Array,
          value: []
        },

        imageMapImageUrl: {
          type: String
        },

        imageMapData: {
          type: String
        },

        language: {
          value: 'is'
        },

        wide: Boolean,

        areaVoterCount: Object,
        totalVoterCount: Number
      },

      refreshAreaCounters: function () {
        this.$.getAreasAjax.generateRequest();
      },

      _selectIcelandic: function () {
        this.fire('iron-signal', {name: 'set-language', data: 'is'});
        localStorage.setItem("selectedLanguage", 'is');
      },

      _selectEnglish: function () {
        this.fire('iron-signal', {name: 'set-language', data: 'en'});
        localStorage.setItem("selectedLanguage", 'en');
      },

      _getAreaCount: function (areaId) {
        return this.formatNumber(this.areaVoterCount[areaId]);
      },

      attached: function() {
        this.loadLanguage(this.resolveUrl('/src/locales.json'));
      },

      _areasResponse: function (event, detail) {
        this.set('areas', detail.response.areas);
        this.set('areaVoterCount', null);
        this.async(function () {
          this.set('areaVoterCount', detail.response.area_voter_count);
          this.set('totalVoterCount', this.formatNumber(detail.response.total_voter_count));
        }.bind(this));

      }
    })
  })();

</script>

</body></html>