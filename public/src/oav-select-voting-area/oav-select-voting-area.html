<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../oav-behaviors/app-helpers.html">
<link rel="import" href="../oav-ajax/oav-ajax.html">

<dom-module id="oav-select-voting-area">
  <style>
    #area_options {
      background-color: #FFF;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
    }

    h3 {
      font-size: 18px;
      padding: 16px;
    }

    paper-fab {
      padding: 32px;
      color: #FFF;
    }

    paper-fab.label {
      font-size: 30px;
      color: #FFF;
    }

  </style>

  <template>
    <iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query>

    <template is="dom-if" if="[[areas]]">

      <div id='content' class="layout vertical">
        <h3>{{localize('choose_a_neighbourhood')}}</h3>
        <h3>{{localize('choose_a_neighbourhood_2')}}</h3>
      </div>

      <template is="dom-if" if="[[wide]]">
        <div id='area_options' class="layout vertical center-center">
          <img id="Image-Maps-Com-image-maps-2016-08-04-135857" src="/images/kopavogurMap.png" border="0" width="686" height="550" orgWidth="686" orgHeight="550" usemap="#image-maps-2016-08-04-135857" alt="" />
          <map name="image-maps-2016-08-04-135857" id="ImageMapsCom-image-maps-2016-08-04-135857">
            <area alt="Vatnsendi" title="Vatnsendi" href="/#/area-ballot/1" shape="poly" coords="362,296,371,307,468,323,475,497,494,537,610,444,610,428,648,382,578,325,588,300,621,287,625,271,618,251,627,235,655,229,672,208,660,190,607,199,552,193,464,270" style="outline:none;" target="_self"     />
            <area alt="Lindir og Salir" title="Lindir og Salir" href="/#/area-ballot/2" shape="poly" coords="356,290,452,266,367,192,355,135,321,141,296,158,277,180,262,206,259,221,295,220,310,235,308,253,333,265" style="outline:none;" target="_self"     />
            <area alt="Sm치rinn" title="Sm치rinn" href="/#/area-ballot/3" shape="poly" coords="196,130,215,128,248,117,271,118,290,123,334,115,359,125,330,133,313,142,298,154,278,171,269,183,251,215,244,216,204,191,180,186,179,162,190,151" style="outline:none;" target="_self"     />
            <area alt="Digranes" title="Digranes" href="/#/area-ballot/4" shape="poly" coords="196,123,212,123,242,112,256,112,272,114,293,117,306,116,337,113,359,120,395,114,414,99,421,83,425,61,414,52,415,37,403,30,333,23,233,14,216,23,210,35,196,52,186,61,182,66,176,82,185,102" style="outline:none;" target="_self"     />
            <area alt="K치rsnes" title="K치rsnes" href="/#/area-ballot/5" shape="poly" coords="23,21,53,20,55,37,69,36,89,30,102,29,104,39,119,40,129,36,140,38,157,33,166,36,188,22,207,27,202,44,187,53,178,62,173,84,179,103,187,126,188,139,176,126,167,123,141,116,94,106,71,103,50,81,47,70,41,53,32,55,20,34" style="outline:none;" target="_self"     />
          </map>
        </div>
      </template>

      <template is="dom-if" if="[[!wide]]">

        <template is="dom-repeat" list="[[areas]]" as="area">

        </template>
        <div class="layout horizontal wrap">
          <paper-fab mini class="label" label="230" title="heart eyes cat">230</paper-fab>
          <paper-fab mini class="label" label="231" title="heart eyes cat">231</paper-fab>
          <paper-fab mini class="label" label="232" title="heart eyes cat"></paper-fab>
          <paper-fab mini class="label" label="233" title="heart eyes cat"></paper-fab>
          <paper-fab mini class="label" label="234" title="heart eyes cat"></paper-fab>
        </div>
      </template>
    </template>

    <oav-ajax id="getAreasAjax" auto url="/votes/get_areas" on-response="_areasResponse"></oav-ajax>
  </template>

</dom-module>

<script>
  (function() {
    Polymer({

      is: 'oav-select-voting-area',

      behaviors: [
        Polymer.appHelpers,
        Polymer.AppLocalizeBehavior
      ],

      properties: {

        areas: {
          type: Array,
          value: []
        },

        imageMapImageUrl: {
          type: String
        },

        imageMapData: {
          type: String
        },

        language: {
          value: 'is'
        },

        wide: Boolean
      },

      attached: function() {
        this.loadResources(this.resolveUrl('../locales.json'));
      },

      _areasResponse: function (event, detail) {
        this.set('areas', detail)

      }
    })
  })();

</script>

